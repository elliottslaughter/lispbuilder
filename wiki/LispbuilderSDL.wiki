#summary Create interactive games using LISPBUILDER-SDL and Common Lisp

<wiki:toc max_depth="3" />

= Overview =

The goal for LISPBUILDER-SDL is to become a useful resource for the development of games in Lisp.  LISPBUILDER-SDL provides a set of bindings and Lispy abstractions to graphics, sound, physics, character animation and 3D libraries allowing development of interactive application and games in Common Lisp. 

= Introduction =

The LISPBUILDER-SDL core functionality includes window and event loop management, support for 2D bitmap and vector graphics, 2D graphical effects such as rotation, color keying and alpha blending, many graphics drawing primitives such as circles, polygons, squares, Bezier and Cuttmull-Rom curves, BMP image support, playback of WAV samples and streaming music, and bitmap font support. 

The core LISPBUILDER-SDL functionality described above can be enhanced by using [optionalPackages optional packages] that provide additional capabilities such as True-type font support, 3D scene management, physics, character animation, support for loading diverse image formats (jpeg, png, tiff, tga, bmp etc.), a sound mixer, sample and music streaming for mp3 and OGG formats, rendering speed ups for many of the graphics primitives, and anti-aliasing support.

= Example Code =

{{{
(sdl:with-init ()
  (sdl:window 320 240)
  (sdl:draw-surface (load-image "lisp.bmp"))
    (sdl:with-events ()
      (:quit-event () t)
      (:video-expose-event (sdl:update-display))))
}}}

http://lispbuilder.googlecode.com/svn/trunk/lispbuilder-sdl/documentation/sdl-alien.png

= Compatibility =

|| *Lisp Implementation* || *Win32* || *Linux* || *OS X* || *BSD* || *Comments* ||
|| SBCL || Working || Working || NA || Working || Win32 version is single threaded||
|| Lispworks || Working || Working || Working || ?? || ||
|| Allegro || Working || ?? || ?? || ?? || ||
|| CMUCL || NA || No || ?? || ?? || ||
|| CLISP || Working || Working || ?? || ?? || ||
|| Clozure CL || ?? || ?? || ?? || ?? || ||

= Windows: Download & Installation for Newbies =

 # Download & install [http://www.lispworks.com/downloads/index.html Lispworks Personal Edition].
 # Download & install [http://www.weitz.de/starter-pack/ Edi Weitz's Lisp Starter Pack].
 # Download [http://www.balooga.com/lispbuilder/config.lisp config.lisp] to the same location as the Lisp Starter Pack. _Note:_ `LispStarterPack.exe` and `config.lisp` must be in the same directory.
 # Run `LispStarterPack.exe` and select the `LISPBUILDER-*` packages. The packages will be downloaded and installed into (in `XP` at least) `My Documents\Lisp Libraries`.

= Using LISPBUILDER-SDL =

The following instructions are copied from [http://www.weitz.de/starter-pack/#use Edi Weitz's Lisp Starter Pack]

 # Start `Lispworks`.
 # Use the `File menu` to `Load...` (and _not_ `Open...`) the file `start.lisp` that was installed in a directory called `"Lisp Libraries"` within `"My Documents"` folder. LispWorks will now compile the libraries libraries.
 # Execute the following in the Lispworks `"Listener"` window when compilation is `DONE`.
  ** `(ASDF:OPERATE 'ASDF:LOAD-OP :LISPBUILDER-SDL-EXAMPLES)`
 # Run one of the examples to verify that the installation was successful;
  ** `(SDL-EXAMPLES:PARTICLES)`

= Dependencies =

== External Libraries ==

[http://www.libsdl.org/ libSDL] must be installed in order for LISPBUILDER-SDL work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/ libSDL]. Linux users should use their package managers to install the RPM's or DEBs.

== Common Lisp Packages ==

 * ASDF: ASDF is already installed for users of SBCL, OpenMCL, ECL, ACL, or Lispworks using Edi Weitz's Lisp Starter Pack. Otherwise, please refer to [http://cclan.cvs.sourceforge.net/viewvc/*checkout*/cclan/asdf/README?revision=1.40 ASDF README] for installation instructions.
 * CFFI: Automatically installed when using [http://www.cliki.net/ASDF-Install ASDF-INSTALL], or Edi Weitz's Starter Pack. Otherwise, please refer to the [http://common-lisp.net/project/cffi official installation instructions].

= Download & Installation =

The latest version can always be obtained using [http://subversion.tigris.org/ Subversion]. Use the instructions to sync to the latest version by clicking the *Source* tab above.

== Windows ==

=== Windows For Common Lisp Newbies ===


=== Windows Technical ===

== OS X ==

== Linux ==

These instructions have been tested under Ubuntu 2.6.24, CFFI version 

== BSD ==

= Optional Packages =

  * *lispbuilder-sdl-gfx*: 2D graphical effects such as zooming, rotation, circles, polygons and squares, using [http://www.ferzkopp.net/Software/SDL_gfx-2.0/ SDL_gfx]
  * *lispbuilder-sdl-image*: Support for multople image formats such as PNG and JPG, using [http://www.libsdl.org/projects/SDL_image/ SDL_image]
  * *lispbuilder-sdl-mixer*: Sound mixing, using [http://www.libsdl.org/projects/SDL_mixer/ SDL_mixer] a multi-channel audio mixer library
  * *lispbuilder-sdl-ttf*: True-type font rendering, using [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf]
  * *lispbuilder-sdl-net*: Networking, using [http://www.libsdl.org/projects/SDL_net/ SDL_net] a cross-platform, blocking network library.

== lispbuilder-sdl-gfx ==

[http://www.ferzkopp.net/Software/SDL_gfx-2.0/ SDL_gfx] must be installed in order for LISPBUILDER-SDL-GFX work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.ferzkopp.net/Software/SDL_gfx-2.0/ SDL_gfx]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-image ==

[http://www.libsdl.org/projects/SDL_image/ SDL_image] must be installed in order for LISPBUILDER-SDL-IMAGE work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_image/ SDL_image]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-mixer ==

[http://www.libsdl.org/projects/SDL_mixer/ SDL_mixer] must be installed in order for LISPBUILDER-SDL-IMAGE work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_mixer/ SDL_mixer]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-ttf ==

 * [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] must be installed in order for LISPBUILDER-SDL-TTF work. Windows users can use Edi Weitz's Lisp Starter Pack to install  this library. Otherwise, Windows/Mac users should download and install [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] from [http://www.libsdl.org/projects/SDL_ttf/ here]. Linux users should use their package managers to install the RPM's or DEBs. 
 * In addition a glue library `lispbuilder-sdl-ttf-glue` must also be installed in the library search path. `lispbuilder-sdl-ttf-glue` wraps the font rendering functions in [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] as these functions require struct passing by value; CFFI only supports passing structs by reference. Windows users can use Edi Weitz's Lisp Starter Pack to install the glue library. Otherwise the glue library must be built as follows;

=== Windows Build Instructions ===

To build the glue library:

 # A working installation of MingW is required. 
 # Make sure that the path to the include files for `SDL` and `SDL_TTF` are specified correctly in `LISPBUILDER-SDL-TTF/Makefile.mingw`. Do this by modifying the line `SDL_TTF_CFLAGS=$(CFLAGS) -ISDL-1.2.11/include -ISDL_ttf-2.0.8`.
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make` to create the glue library.
 # If the build is successful, the `lispbuilder-sdl-ttf-glue` library will be found in `LISPBUILDER-SDL-TTF/BUILD/`.
 # Copy or move the file `LISPBUILDER-SDL-TTF/BUILD/lispbuilder-sdl-ttf-glue.dll` to `LISPBUILDER-SDL-TTF/BIN/lispbuilder-sdl-ttf-glue.dll`

=== Linux Build Instructions ===

To rebuild the glue library:
 
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make` to create the glue library.
 # If the build is successful, the `lispbuilder-sdl-ttf-glue` library will be found in the `LISPBUILDER-SDL-TTF/BUILD/` directory.
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make install_ttf` to install the `lispbuilder-sdl-ttf-glue` library to the default library search path.

== lispbuilder-sdl-net ==

[http://www.libsdl.org/projects/SDL_net/ SDL_net] must be installed in order for LISPBUILDER-SDL-NET work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_net/ SDL_net]. Linux users should use their package managers to install the RPM's or DEBs.