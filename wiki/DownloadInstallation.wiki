#summary LISPBUILDER-SDL Download and Installation for OSD X, Linux, BSD and Windows Alternate

<wiki:toc max_depth="3" />

= Dependencies =

== External Libraries ==

The `LISPBUILDER-SDL` packages rely on several external dynamic linked libraries. These libraries are not included in the `LISPBIULDER-SDL` packages unless installation is via the Lisp Starter Kit. These libraries must be installed prior to loading any of the `LISPBUILDER-SDL` packages. 

 * LISPBUILDER-SDL requires [http://www.libsdl.org/ libSDL] to work. Use your OS's package manager to download & install the libraries from [http://www.libsdl.org/ libSDL], or download and plave the binaries in your library search path.

== Common Lisp Packages ==

 * *ASDF* is pre-installed for users of SBCL, OpenMCL, ECL, ACL, or Lispworks using Edi Weitz's Lisp Starter Pack. Otherwise, please refer to [http://cclan.cvs.sourceforge.net/viewvc/*checkout*/cclan/asdf/README?revision=1.40 ASDF README] for installation instructions.
 * *CFFI* can be automatically downloaded and installed when using [http://www.cliki.net/ASDF-Install ASDF-INSTALL]. Otherwise, please refer to the [http://common-lisp.net/project/cffi official installation instructions].

= Download & Installation of LISPBUILDER-SDL =

The latest version can always be obtained using [http://subversion.tigris.org/ Subversion]. Use the instructions to sync to the latest version by clicking the *Source* tab above.

== Windows ==

== OS X ==

In addition to downloading and installing `LISPBUILDER-SDL`, you need to install the `SDL` framework [http://www.libsdl.org/ available here]. To use `SDL` you first need to compile the OS-X specific helper library located in `"lispbuilder-sdl/cocoahelper`"; just cd to this directory and type `"make"`. Then before trying to run any `SDL` programs you need to load the cocoahelper package: 

{{{
(asdf:operate 'asdf:load-op :cocoahelper)
}}}

This creates an instance of `NSApplication` that serves as a bridge between `SDL` and Cocoa, similiar to that used by the Python project Pygame. If this is successful, you should see the icon for a generic OS-X ap appear in your dock.

== Linux ==

These instructions have been tested under Ubuntu 2.6.24, CFFI version 

== BSD ==

= Download and Installation of the Optional Packages = 

== lispbuilder-sdl-gfx ==

[http://www.ferzkopp.net/Software/SDL_gfx-2.0/ SDL_gfx] must be installed in order for LISPBUILDER-SDL-GFX work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.ferzkopp.net/Software/SDL_gfx-2.0/ SDL_gfx]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-image ==

[http://www.libsdl.org/projects/SDL_image/ SDL_image] must be installed in order for LISPBUILDER-SDL-IMAGE work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_image/ SDL_image]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-mixer ==

[http://www.libsdl.org/projects/SDL_mixer/ SDL_mixer] must be installed in order for LISPBUILDER-SDL-IMAGE work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_mixer/ SDL_mixer]. Linux users should use their package managers to install the RPM's or DEBs.

== lispbuilder-sdl-ttf ==

 * [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] must be installed in order for LISPBUILDER-SDL-TTF work. Windows users can use Edi Weitz's Lisp Starter Pack to install  this library. Otherwise, Windows/Mac users should download and install [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] from [http://www.libsdl.org/projects/SDL_ttf/ here]. Linux users should use their package managers to install the RPM's or DEBs. 
 * In addition a glue library `lispbuilder-sdl-ttf-glue` must also be installed in the library search path. `lispbuilder-sdl-ttf-glue` wraps the font rendering functions in [http://www.libsdl.org/projects/SDL_ttf/ SDL_ttf] as these functions require struct passing by value; CFFI only supports passing structs by reference. Windows users can use Edi Weitz's Lisp Starter Pack to install the glue library. Otherwise the glue library must be built as follows;

=== Windows Build Instructions ===

To build the glue library:

 # A working installation of MingW is required. 
 # Make sure that the path to the include files for `SDL` and `SDL_TTF` are specified correctly in `LISPBUILDER-SDL-TTF/Makefile.mingw`. Do this by modifying the line `SDL_TTF_CFLAGS=$(CFLAGS) -ISDL-1.2.11/include -ISDL_ttf-2.0.8`.
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make` to create the glue library.
 # If the build is successful, the `lispbuilder-sdl-ttf-glue` library will be found in `LISPBUILDER-SDL-TTF/BUILD/`.
 # Copy or move the file `LISPBUILDER-SDL-TTF/BUILD/lispbuilder-sdl-ttf-glue.dll` to `LISPBUILDER-SDL-TTF/BIN/lispbuilder-sdl-ttf-glue.dll`

=== Linux Build Instructions ===

To rebuild the glue library:
 
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make` to create the glue library.
 # If the build is successful, the `lispbuilder-sdl-ttf-glue` library will be found in the `LISPBUILDER-SDL-TTF/BUILD/` directory.
 # In the `LISPBUILDER-SDL-TTF/` directory, execute `make install_ttf` to install the `lispbuilder-sdl-ttf-glue` library to the default library search path.

== lispbuilder-sdl-net ==

[http://www.libsdl.org/projects/SDL_net/ SDL_net] must be installed in order for LISPBUILDER-SDL-NET work. Windows users can use Edi Weitz's Lisp Starter Pack to install this library. Otherwise, Windows/Mac users should download and install the binaries from [http://www.libsdl.org/projects/SDL_net/ SDL_net]. Linux users should use their package managers to install the RPM's or DEBs.